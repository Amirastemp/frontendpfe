<div class="container">
<div class="card">
  <div class="lb-header">
    <a [class.active]="showLoginForm" (click)="toggleForm('login')">Login</a>
    <a [class.active]="!showLoginForm" (click)="toggleForm('signup')">Sign Up</a>
  </div>
  <div class="social-login">
    <a href="#">
      <i class="fab fa-linkedin fa-lg"></i>
      Login in with Linkedin
    </a>
    <a href="#">
      <i class="fab fa-google fa-lg"></i>
      log in with Google
    </a>
  </div>
  <form class="email-login" *ngIf="showLoginForm" name="form"
  (ngSubmit)="f.form.valid && onSubmit()"
  #f="ngForm"
  novalidate>
    <div class="u-form-group">
      <label for="email">Email</label>
      <input
        type="email"
        class="form-control"
        name="email"
        [(ngModel)]="loginUserData.email"
        required
        email
        #email="ngModel"
        [ngClass]="{ 'is-invalid': f.submitted && email.errors }"
      />
      <div class="invalid-feedback" *ngIf="email.errors && f.submitted">
        <div *ngIf="email.errors['required']">Email is required</div>
        <div *ngIf="email.errors['email']">
          Email must be a valid email address
        </div>
      </div>
    </div>
  <div class="u-form-group">
    <label for="password">Password</label>
    <input
      type="password"
      class="form-control"
      name="password"
      [(ngModel)]="loginUserData.password"
      required
      minlength="6"
      #password="ngModel"
      [ngClass]="{ 'is-invalid': f.submitted && password.errors }"/>
    <div class="invalid-feedback" *ngIf="password.errors && f.submitted">
      <div *ngIf="password.errors['required']">Password is required</div>
      <div *ngIf="password.errors['minlength']">
        Password must be at least 6 characters
      </div>
    </div>
  </div>
  <div class="u-form-group">
    <button  type="submit" class="btn btn-primary float-right form-control">LogIn</button>
    </div>
    <br/>
    <div class="alert alert-warning" *ngIf="isSignUpFailed">
      Signup failed!<br />{{ errorMessage }}
    </div>
    <div class="u-form-group">
      <a href="#" class="forgot-password">Forgot password?</a>
    </div>
  </form>
  <!-- /***********************************************************************/ -->

  <form class="email-signup"  *ngIf="!showLoginForm"
  name="form"
  (ngSubmit)="f.form.valid && onRegister()"
  #f="ngForm"
  novalidate>
  <div class="u-form-group">
    <label for="firstName">firstName</label>
    <input
      type="text"
      class="form-control"
      name="firstName"
      [(ngModel)]="registerUserData.firstName"
      required
      minlength="3"
      maxlength="20"
      #firstName="ngModel"
      [ngClass]="{ 'is-invalid': f.submitted && firstName.errors }"
    />
    <div class="invalid-feedback" *ngIf="firstName.errors && f.submitted">
      <div *ngIf="firstName.errors['required']">firstName is required</div>
      <div *ngIf="firstName.errors['minlength']">
        firstName must be at least 3 characters
      </div>
      <div *ngIf="firstName.errors['maxlength']">
        firstName must be at most 20 characters
      </div>
    </div>
  </div>
    <div class="u-form-group">
      <label for="lastName">lastName</label>
      <input
        type="text"
        class="form-control"
        name="lastName"
        [(ngModel)]="registerUserData.lastName"
        required
        minlength="3"
        maxlength="20"
        #lastName="ngModel"
        [ngClass]="{ 'is-invalid': f.submitted && lastName.errors }"
      />
      <div class="invalid-feedback" *ngIf="lastName.errors && f.submitted">
        <div *ngIf="lastName.errors['required']">lastName is required</div>
        <div *ngIf="lastName.errors['minlength']">
          lastName must be at least 3 characters
        </div>
        <div *ngIf="lastName.errors['maxlength']">
          lastName must be at most 20 characters
        </div>
      </div>
    </div>
    <div class="u-form-group">
      <label for="username">Username</label>
      <input
        type="text"
        class="form-control"
        name="username"
        [(ngModel)]="registerUserData.userName"
        required
        minlength="3"
        maxlength="20"
        #userName="ngModel"
        [ngClass]="{ 'is-invalid': f.submitted && userName.errors }"
      />
      <div class="invalid-feedback" *ngIf="userName.errors && f.submitted">
        <div *ngIf="userName.errors['required']">Username is required</div>
        <div *ngIf="userName.errors['minlength']">
          Username must be at least 3 characters
        </div>
        <div *ngIf="userName.errors['maxlength']">
          Username must be at most 20 characters
        </div>
      </div>
    </div>
    <div class="u-form-group">
      <label for="email">Email</label>
      <input
        type="email"
        class="form-control"
        name="email"
        [(ngModel)]="registerUserData.email"
        required
        email
        #email="ngModel"
        [ngClass]="{ 'is-invalid': f.submitted && email.errors }"
      />
      <div class="invalid-feedback" *ngIf="email.errors && f.submitted">
        <div *ngIf="email.errors['required']">Email is required</div>
        <div *ngIf="email.errors['email']">
          Email must be a valid email address
        </div>
      </div>
    </div>
    <div class="u-form-group">
      <label for="image">Upload image:</label>
      <br>
      <input type="file" id="image" name="image" (change)="handleFileInput($event, 'image')" required>
    </div>
    <div class="u-form-group">
      <label for="description">Description</label>
      <textarea
        class="form-control"
        name="description"
        [(ngModel)]="registerUserData.description"
        required
        minlength="10"
        maxlength="200"
        #description="ngModel"
        [ngClass]="{ 'is-invalid': f.submitted && description.errors }"
      ></textarea>
      <div class="invalid-feedback" *ngIf="description.errors && f.submitted">
        <div *ngIf="description.errors['required']">Description is required</div>
        <div *ngIf="description.errors['minlength']">
          Description must be at least 10 characters
        </div>
        <div *ngIf="description.errors['maxlength']">
          Description must be at most 200 characters
        </div>
      </div>
    </div>

  <div class="u-form-group">
    <label for="password">Password</label>
    <input
      type="password"
      class="form-control"
      name="password"
      [(ngModel)]="registerUserData.password"
      required
      minlength="6"
      #password="ngModel"
      [ngClass]="{ 'is-invalid': f.submitted && password.errors }"
    />
    <div class="invalid-feedback" *ngIf="password.errors && f.submitted">
      <div *ngIf="password.errors['required']">Password is required</div>
      <div *ngIf="password.errors['minlength']">
        Password must be at least 6 characters
      </div>
    </div>
  </div>
  <div class="u-form-group">
    <label for="phone">Phone</label>
    <input
    [(ngModel)]="registerUserData.phone"
    maxlength="8"
     name="phone"
     type="text"
     class="form-control"
     id="phone"
     #phone="ngModel"
      name="phone"
      required>
      <div class="invalid-feedback" *ngIf="phone.errors && f.submitted">
        <div *ngIf="phone.errors['required']">phone is required</div>
        <div *ngIf="phone.errors['phone']">
          phone must be a valid phone number
        </div>
      </div>
  </div>
  <div class="u-form-group">
    <label for="">Address</label>
    <input
    [(ngModel)]="registerUserData.address"
    name="address"
    #Adresss="ngModel"
     type="text"
     class="form-control"
     required>
     <div class="invalid-feedback" *ngIf="Adresss.errors && f.submitted">
      <div *ngIf="Adresss.errors['required']">Address is required</div>

    </div>
  </div>


  <div class="u-form-group">
  <button (click)="onSubmit()" type="submit" class="btn btn-primary float-right form-control">SignUp</button>
  </div>
  <br/>
  <div class="alert alert-warning" *ngIf="isSignUpFailed">
    Signup failed!<br />{{ errorMessage }}
  </div>
  </form>

</div></div>

